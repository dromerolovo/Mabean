<shadui:Window
xmlns="https://github.com/avaloniaui"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:vm="using:Mabean.ViewModels"
xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
xmlns:shadui="clr-namespace:ShadUI;assembly=ShadUI"
xmlns:ic="using:FluentIcons.Avalonia"
mc:Ignorable="d"
d:DesignWidth="800"
d:DesignHeight="600"
x:Class="Mabean.Views.MainWindow"
x:DataType="vm:MainWindowViewModel"
x:Name="Window"
Title="Mabean"
Width="1024"
Height="768"
WindowStartupLocation="CenterScreen"
SaveWindowState="True"
TitleFontWeight="SemiBold">

	<!-- Logo in title bar -->
	<shadui:Window.LogoContent>
		<PathIcon
		Data="{x:Static shadui:Icons.Logo}"
		Height="14"
		Width="14"
		Margin="8,8,0,8" />
	</shadui:Window.LogoContent>

	<!-- Right side of title bar -->
	<shadui:Window.RightWindowTitleBarContent>
		<StackPanel Orientation="Horizontal" Spacing="8">
			<Button
			Background="{DynamicResource SidebarBackgroundColor}"
			CornerRadius="{DynamicResource MdCornerRadius}"
			Height="30"
			Width="30"
			ToolTip.Tip="Settings">
				<PathIcon Data="{x:Static shadui:Icons.Settings}" Width="16" Height="16" />
			</Button>
		</StackPanel>
	</shadui:Window.RightWindowTitleBarContent>

	<Panel>
		<Grid ColumnDefinitions="Auto *">
			<!-- Sidebar -->
			<shadui:Sidebar
			Grid.Column="0"
			BorderBrush="{DynamicResource BorderColor30}"
			BorderThickness="0,0,1,0"
			MinWidth="60"
			Width="200"
			Expanded="{Binding IsSidebarExpanded}">

				<!-- Sidebar Header with Toggle -->
				<shadui:Sidebar.Header>
					<ToggleButton
					Name="Toggler"
					IsChecked="{Binding IsSidebarExpanded}"
					CornerRadius="{DynamicResource LgCornerRadius}"
					Height="32"
					Width="32"
					Padding="8"
					Theme="{DynamicResource SideTogglerTheme}">
						<PathIcon Data="{x:Static shadui:Icons.SidePanel}" Width="16" Height="16" />
					</ToggleButton>
				</shadui:Sidebar.Header>

				<!-- Sidebar Items -->
				<StackPanel Spacing="4">
					<shadui:SidebarItemLabel AsSeparator="True" Text="Main" />

					<shadui:SidebarItem
					Command="{Binding NavigateTo}"
					CommandParameter="Home"
					Content="Home"
					IsChecked="True">
						<shadui:SidebarItem.Icon>
							<PathIcon Data="M21.6062 5.85517C23.0048 4.71494 24.9952 4.71494 26.3938 5.85517L39.5688 16.5966C40.4736 17.3342 41 18.4492 41 19.628V39.1134C41 41.2599 39.2875 43 37.175 43H32.075C29.9625 43 28.25 41.2599 28.25 39.1134V29.7492C28.25 29.0337 27.6792 28.4536 26.975 28.4536H21.025C20.3208 28.4536 19.75 29.0337 19.75 29.7492V39.1134C19.75 41.2599 18.0375 43 15.925 43H10.825C8.71251 43 7 41.2599 7 39.1134V19.628C7 18.4493 7.52645 17.3342 8.43124 16.5966L21.6062 5.85517ZM24.7979 7.87612C24.3317 7.49604 23.6683 7.49604 23.2021 7.87612L10.0271 18.6175C9.72548 18.8634 9.55 19.2351 9.55 19.628V39.1134C9.55 39.8289 10.1208 40.4089 10.825 40.4089H15.925C16.6292 40.4089 17.2 39.8289 17.2 39.1134V29.7492C17.2 27.6027 18.9125 25.8626 21.025 25.8626H26.975C29.0875 25.8626 30.8 27.6027 30.8 29.7492V39.1134C30.8 39.8289 31.3708 40.4089 32.075 40.4089H37.175C37.8792 40.4089 38.45 39.8289 38.45 39.1134V19.628C38.45 19.2351 38.2745 18.8634 37.9729 18.6175L24.7979 7.87612Z" />
						</shadui:SidebarItem.Icon>
					</shadui:SidebarItem>
					<shadui:SidebarItem
						Content="Process Finder"
						Command="{Binding NavigateTo}"
						CommandParameter="ProcessFinderView">
						<shadui:SidebarItem.Icon>
							<PathIcon
							Width="20"
							Height="20"
							Data="M10 9C10.4142 9 10.75 9.33579 10.75 9.75V13.25C10.75 13.6642 10.4142 14 10 14C9.58579 14 9.25 13.6642 9.25 13.25V9.75C9.25 9.33579 9.58579 9 10 9Z M10 8C10.5523 8 11 7.55228 11 7C11 6.44772 10.5523 6 10 6C9.44772 6 9 6.44772 9 7C9 7.55228 9.44772 8 10 8Z M10 2.75C14.0041 2.75 17.25 5.99594 17.25 10C17.25 11.7319 16.6427 13.3219 15.6295 14.5688L20.5303 19.4697C20.8232 19.7626 20.8232 20.2374 20.5303 20.5303C20.2641 20.7966 19.8474 20.8208 19.5538 20.6029L19.4697 20.5303L14.5688 15.6295C13.3219 16.6427 11.7319 17.25 10 17.25C5.99594 17.25 2.75 14.0041 2.75 10C2.75 5.99594 5.99594 2.75 10 2.75ZM10 4.25C6.82436 4.25 4.25 6.82436 4.25 10C4.25 13.1756 6.82436 15.75 10 15.75C13.1756 15.75 15.75 13.1756 15.75 10C15.75 6.82436 13.1756 4.25 10 4.25Z"/>
						</shadui:SidebarItem.Icon>
					</shadui:SidebarItem>
					<shadui:SidebarItem
					Command="{Binding NavigateTo}"
					CommandParameter="PayloadManager"
					Content="Payload Manager">
						<shadui:SidebarItem.Icon>
							<PathIcon
							Width="20"
							Height="20"
							Data="M2 5.25C2 3.45507 3.45507 2 5.25 2H16.75C18.5449 2 20 3.45507 20 5.25V8.00934C19.4951 7.95675 18.9878 7.99076 18.5 8.10566V7H3.5V16.75C3.5 17.7165 4.2835 18.5 5.25 18.5H13.2347L12.7935 19.2641C12.6577 19.4994 12.5652 19.7477 12.5135 20H5.25C3.45507 20 2 18.5449 2 16.75V5.25ZM5.25 3.5C4.2835 3.5 3.5 4.2835 3.5 5.25V5.5H18.5V5.25C18.5 4.2835 17.7165 3.5 16.75 3.5H5.25Z M19.8565 9C19.6411 8.98005 19.4255 8.9803 19.2123 9C18.1194 9.10098 17.0907 9.71296 16.5002 10.7357C15.7915 11.9632 15.9109 13.4415 16.685 14.5239L13.6595 19.7641C13.6153 19.8407 13.5788 19.9196 13.5499 20C13.3149 20.6516 13.5724 21.3977 14.1933 21.7562C14.8908 22.1589 15.7828 21.9199 16.1855 21.2224L19.2166 15.9724C20.5321 16.0903 21.8586 15.4548 22.5624 14.2357C23.3244 12.916 23.1291 11.3063 22.1921 10.2105L20.5417 13.0691C20.2195 13.6271 19.506 13.8183 18.948 13.4961C18.39 13.1739 18.1988 12.4604 18.521 11.9024L20.1714 9.04377C20.0667 9.0243 19.9616 9.00974 19.8565 9Z M15.1652 13.5745C14.9952 12.8933 14.9834 12.1718 15.1463 11.4698L12.8579 9.17831C12.6628 8.98291 12.3462 8.98269 12.1508 9.17782C11.9554 9.37295 11.9552 9.68953 12.1503 9.88493L14.7934 12.5316L12.1503 15.1783C11.9552 15.3737 11.9554 15.6903 12.1508 15.8854C12.3462 16.0805 12.6628 16.0803 12.8579 15.8849L15.1652 13.5745Z M9.85672 9.88537C10.0521 9.69021 10.0523 9.37363 9.85711 9.17826C9.66196 8.98289 9.34538 8.98271 9.15001 9.17787L6.14664 12.1779C6.05275 12.2717 6 12.3989 6 12.5316C6 12.6643 6.05276 12.7916 6.14665 12.8854L9.15001 15.8854C9.34538 16.0805 9.66196 16.0803 9.85711 15.885C10.0523 15.6896 10.0521 15.373 9.85672 15.1779L7.2075 12.5316L9.85672 9.88537Z"/>
						</shadui:SidebarItem.Icon>
					</shadui:SidebarItem>
					<shadui:SidebarItem
					Command="{Binding NavigateTo}"
					CommandParameter="BehaviorSimulation"
					Content="Behavior Simulation">
						<shadui:SidebarItem.Icon>
							<PathIcon
							Width="20"
							Height="20"
							Data="M10.5 2.75134C10.5 2.33713 10.1642 2.00134 9.75 2.00134C9.33579 2.00134 9 2.33713 9 2.75134V3.50345C9 4.13591 9.19571 4.72266 9.52988 5.20644C8.13703 5.68546 7.11506 6.96179 7.00909 8.49031H6.76245L6.75315 8.49029C5.51052 8.48515 4.50733 7.47364 4.51247 6.23101L4.51861 4.74541C4.52032 4.3312 4.18593 3.99403 3.77172 3.99232C3.35751 3.9906 3.02034 4.325 3.01863 4.73921L3.01248 6.22481C3.00392 8.29586 4.6759 9.98171 6.74695 9.99027L6.76245 9.99031H7V11.5H2.75C2.33579 11.5 2 11.8358 2 12.25C2 12.6642 2.33579 13 2.75 13H7V14.9923H6.76245L6.74695 14.9923C4.6759 15.0009 3.00392 16.6867 3.01248 18.7578L3.01863 20.2434C3.02034 20.6576 3.35751 20.992 3.77172 20.9903C4.18593 20.9886 4.52032 20.6514 4.51861 20.2372L4.51247 18.7516C4.50733 17.509 5.51052 16.4975 6.75315 16.4923L6.76245 16.4923H7.22633C7.86093 18.5251 9.75816 20.0005 12 20.0005C14.2418 20.0005 16.1391 18.5251 16.7737 16.4923H17.2375L17.2468 16.4923C18.4895 16.4975 19.4927 17.509 19.4875 18.7516L19.4814 20.2372C19.4797 20.6514 19.8141 20.9886 20.2283 20.9903C20.6425 20.992 20.9797 20.6576 20.9814 20.2434L20.9875 18.7578C20.9961 16.6867 19.3241 15.0009 17.253 14.9923L17.2375 14.9923H17V13H21.2514C21.6656 13 22.0014 12.6642 22.0014 12.25C22.0014 11.8358 21.6656 11.5 21.2514 11.5H17V9.99031H17.2375L17.253 9.99027C19.3241 9.98171 20.9961 8.29586 20.9875 6.2248L20.9814 4.73921C20.9797 4.325 20.6425 3.9906 20.2283 3.99232C19.8141 3.99403 19.4797 4.3312 19.4814 4.74541L19.4875 6.23101C19.4927 7.47364 18.4895 8.48515 17.2468 8.49029L17.2375 8.49031H16.9909C16.8849 6.96179 15.863 5.68546 14.4701 5.20644C14.8043 4.72267 15 4.13592 15 3.50345V2.75134C15 2.33713 14.6642 2.00134 14.25 2.00134C13.8358 2.00134 13.5 2.33713 13.5 2.75134V3.50345C13.5 4.33188 12.8284 5.00345 12 5.00345C11.1716 5.00345 10.5 4.33188 10.5 3.50345V2.75134ZM8.5 8.75348C8.5 7.51084 9.50736 6.50348 10.75 6.50348H13.25C14.4926 6.50348 15.5 7.51084 15.5 8.75348V15.0005C15.5 16.9335 13.933 18.5005 12 18.5005C10.067 18.5005 8.5 16.9335 8.5 15.0005V8.75348Z"/>
						</shadui:SidebarItem.Icon>
					</shadui:SidebarItem>
					<shadui:SidebarItem
					Content="Events"
					Command="{Binding NavigateTo}"
					CommandParameter="EventsView">
						<shadui:SidebarItem.Icon>
							<PathIcon
							Width="20"
							Height="20"
							Data="M23 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0ZM18.529 3h-1.433a.5.5 0 0 0-.468.324l-1.125 3a.5.5 0 0 0 .469.676h.778l-.773 2.317a.518.518 0 0 0 .926.447l2.625-4.039A.47.47 0 0 0 19.135 5H18.5l.497-1.325A.5.5 0 0 0 18.529 3ZM17.5 13a6.478 6.478 0 0 0 4.5-1.81v3.56a3.25 3.25 0 0 1-3.25 3.249h-5.785l-5.387 3.817A1 1 0 0 1 6 21V18h-.75A3.25 3.25 0 0 1 2 14.749v-8.5A3.25 3.25 0 0 1 5.25 3h6.772A6.5 6.5 0 0 0 17.5 13Z"/>
						</shadui:SidebarItem.Icon>
					</shadui:SidebarItem>
				</StackPanel>

				<!-- Sidebar Footer -->
				<shadui:Sidebar.Footer>
					<shadui:SidebarItem Content="Help">
						<shadui:SidebarItem.Icon>
							<PathIcon
							Width="24"
							Height="24"
							Foreground="Black"
							Data="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
						</shadui:SidebarItem.Icon>
					</shadui:SidebarItem>
				</shadui:Sidebar.Footer>
			</shadui:Sidebar>

			<!-- Main Content Area -->
			<Border Grid.Column="1" Padding="24">
				<ContentControl Content="{Binding CurrentPage}"
								VerticalContentAlignment="Stretch"
								HorizontalContentAlignment="Stretch" />
			</Border>
		</Grid>
	</Panel>
</shadui:Window>
